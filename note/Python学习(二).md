# ***Python学习(二)***

---

## 一、Python的整数、不同进制、其他类型转成整数 ##

**整数**：

* Python2中，int 是**32位**，可以存储从**-2147483648**到**2147483648**的整数。long 是**64位**，可以存储从**-2^63**到**2^63-1**的整数。
* Python3中，int 可以存储**任意大小的整数**，long 被取消。

> Python3中可以做超大数的计算，而不会造成**“整数溢出”**，这也是Python特别适合**科学运算**的特点

**三种进制**：
Python中，除了**十进制**，还有其他三种进制：

* 0b或0B，**二进制** 0 1
* 0o或0O，**八进制** 0 1 2 3 4 5 6 7
* 0x或0X，**十六进制** 1 2 3 4 5 6 7 8 9 a b c d e f

> 这三种进制可以非常方面地进行**“位运算”**操作。

**使用int()实现类型转换**：

* 浮点数直接**舍去小数部分**，如：int(9.9)，结果是9。
* 布尔值**True**转为**1**，**False**转为**0**。如：int(True)，结果是1。
* 字符串**符合整数格式**(浮点数格式不行)，则直接**转成对应整数**，否则报错。

> 自动转型：整数和浮点数**混合运算**时，表达式结果**自动转型成浮点数**。比如：2+8.0 的结果是10.0。

```python
a = 0o12
b = 0x10
c = int(9.9)
print(a) # 输出结果为10
print(b) # 输出结果为16
print(c) # 输出结果为9
```

---



## 二、Python的浮点数、自动/强制转换、增强赋值运算符

**浮点数(float)**：

* 浮点数用**科学计数法**表示。比如：3.14，表示成314E-2或者314e-2。

  > 这些数字在内存中也是按照科学计数法存储。

**类型转换和四舍五入**：

* 类似于int()，我们也可以使用float()将其他类型转化成浮点数。
* 整数和浮点数**混合运算**时，表达式结果**自动转型成浮点数**。比如：2+8.0 的结果是10.0。

* **round(value)**可以返回**四舍五入的值**。但不会改变原有值，而是产生新的值。

**增强赋值运算符**：

运算符+、-、*、/、//、**和%和赋值符=结合可以构成“增强型赋值运算符”。

| 运算符 | 例子    | 等价       |
| ------ | ------- | ---------- |
| +=     | a += 2  | a = a + 2  |
| -=     | a -= 2  | a = a - 2  |
| *=     | a *= 2  | a = a * 2  |
| /=     | a /= 2  | a = a / 2  |
| //=    | a //= 2 | a = a // 2 |
| **=    | a **= 2 | a = a ** 2 |
| %=     | a %= 2  | a = a % 2  |

> 运算符和赋值符之间**不能加空格**。

```python
d = 314e-2
e = round(d)
x = 3
x += 2
print(d) # 输出结果为3.14
print(e) # 输出结果为3
print(x) # 输出结果为5
```

---



## 三、Python的时间表示

**时间的表示**：

* 计算机中时间的表示是从**“1970年1月1日00:00:00”**开始，以**毫秒(1/1000秒)**进行计算。我们也把1970年这个时刻称为**"unix时间点"**。

* Python中可以通过**time.time()**获得**当前时刻**，返回的值是**以秒为单位，带微秒(1/1000毫秒)精度的浮点值**。例如：1635063628.5632517。

> 使用time.time()之前要导入时间模块，即**import time**。

```python
import time

a = int(time.time())
print(a) # 输出结果为1737309200
totalMinutes = a//60
print(totalMinutes) # 输出结果为28955153
totalDays = totalMinutes//(60*24)
print(totalDays) # 输出结果为20107
totalYears = totalDays//365 # 不考虑闰年
print(totalYears) # 输出结果为55
```

---



## 四、多点坐标、绘制折线图、计算两点距离

**定义多点坐标绘出折线并计算起始点和终点距离**

```python
import turtle
import math

#定义多个点的坐标
x1,y1 = 100,100
x2,y2 = 100,-100
x3,y3 = -100,-100
x4,y4 = -100,100

#绘制
turtle.penup()
turtle.goto(x1,y1)
turtle.pendown()
turtle.goto(x2,y2)
turtle.goto(x3,y3)
turtle.goto(x4,y4)

#计算起始点和终点的距离
distance = math.sqrt(x1-x4)**2+(y1-y4)**2
turtle.write(int(distance))

turtle.done()
```

运行结果如下:

![244f2831ecd4e9671cbfc2dc353868a](https://anem0ne.oss-cn-shenzhen.aliyuncs.com/test/20250120021853145.png)

> import math 是Python的**数学计算模块**，其用法以开方为例，格式为**math.sqrt**+式子。

---



## 五、布尔值的本质、逻辑运算符、位运算符、比较运算符、短路问题

**布尔值**:

* Python2中没有布尔值，直接用数字0表示False，用数字1表示True。
* Python3中，把True和False定义成了**关键字**，但他们的本质还是1和0，甚至可以和数字相加。

```python
a = True
b = 3
c = a + b # c的值是4
print(c)
print('空字符串的布尔类型的值：',bool("")) # False
print('空列表的布尔类型的值：',bool([])) # False
print('None的布尔类型的值：',bool(None)) # False
print('0的布尔类型的值：',bool(0)) # False
print('字符串True和False转成布尔都是True：',bool("False")) # True
```

> 在Python语言中有一些特殊的布尔类型值为False，例如：False、0、0.0、空值None、空序列对象(空列表、空集合、空字典、空字符串)、空range对象、空迭代对象。其他情况，均为True。

**逻辑运算符**：

| 运算符     | 格式    | 说明                                                     |
| ---------- | ------- | -------------------------------------------------------- |
| or 逻辑或  | x or y  | x为True，则不计算y，直接返回True；x为False，则返回y      |
| and 逻辑与 | x and y | x为True，则返回y的值；x为False，则不计算y，直接返回False |
| not 逻辑非 | not x   | x为True，返回False；x为False，返回True                   |

```python
# 测试逻辑运算符
d,e,f=10,20,30
print((d<e) and (e<f)) # 输出结果为True
print((d>e) or (e>f)) # 输出结果为False
print(not (e<f)) # 输出结果为False
```

**比较运算符**：

* 所有比较运算符返回**1**表示**真**，返回**0**表示**假**。这分别与特殊变量True和False等价。

* 以下假设变量a为15，变量b为30：

  | 运算符 | 描述                          | 实例            |
  | ------ | ----------------------------- | --------------- |
  | ==     | 等于-比较对象的值是否相等     | (a==b)返回False |
  | !=     | 不等于-比较对象的值是否不相等 | (a!=b)返回True  |
  | >      | 大于-返回x是否大于y           | (a>b)返回False  |
  | <      | 小于-返回x是否小于y           | (a<b)返回True   |
  | >=     | 大于等于-返回x是否大于等于y   | (a>=b)返回False |
  | <=     | 小于等于-返回x是否小于等于y   | (a<=b)返回True  |

```python
# 测试比较运算符
x = 10>30 and 50<=100
y = 100>200 and 50<(3/0) # 发生短路问题，即便3/0有错误，系统也不会计算50<(3/0)
print(x) # 输出结果为False
print(y) # 输出结果为False
```

> ```python
> # 注意:Python中关系运算符可以连用
> z = 4
> if(3<z<10): # 相当于z>3,z<10
>     print("z在3和10之间")
> ```

**位运算**：

| 运算符 | 描述                                                         |
| ------ | ------------------------------------------------------------ |
| &      | 按位**与**运算符：参与运算的两个值，如果两个相应位**都为1**，则该位的结果为**1**，否则为**0**。 |
| \|     | 按位**或**运算符：只要对应的二个**二进位**有**一个为1**时，结果就为**1**。 |
| ^      | 按位**异或**运算符：当两对应的**二进制位相异**时，结果为**1**。 |
| ~      | 按位**取反**运算符：对数据的**每个二进制取反**,既把**1变为0**,把**0变为1**，x类似于-x-1。 |
| <<     | **左移动**运算符：运算数的每个二进制位**全部左移若干位**，由”<<”右边的数据指定移动的位数,**高位丢弃**，**低位补0**。 |
| >>     | **右移动**运算符：把”>>”左边运算数的每个二进制位**全部右移若干位**，">>”右边的数指定移动的位数。 |

```python
# 测试位运算符
g = 0b11001
h = 0b01000

#bin()可以将数字转成二进制
print(bin(g|h)) # 或
print(bin(g&h)) # 与
print(bin(g^h)) # 异或

print(3<<2) # 左移1位相当于乘以2，左移两位相当于3*4
print(20>>1) # 右移1位相当于除以2
```

**加法操作补充和乘法操作补充**：

* 加法操作补充：
  * 数字相加    3 + 2结果是5。
  * 字符串拼接    “3” + “2”结果是“32”。
  * 列表、元组等合并    [10,20,30] + [5,10,100]结果是[10,20,30,5,10,100]。

* 乘法操作补充：
  * 数字相乘    3 * 2结果是6。
  * 字符串复制    “sxt” * 3结果是“sxtsxtsxt”。
  * 列表、元组等复制    [10,20,30] * 3结果是[10,20,30,10,20,30,10,20,30]

**增强赋值运算符补充**：

| 运算符 | 描述         | 实例  | 等价于   |
| ------ | ------------ | ----- | -------- |
| <<=    | 左移赋值     | a<<=2 | a = a<<2 |
| >>=    | 右移赋值     | a>>=2 | a = a>>2 |
| &=     | 按位与赋值   | a&=b  | a = a&b  |
| \|=    | 按位或赋值   | a\|=b | a = a\|b |
| ^=     | 按位异或赋值 | a^=b  | a = a^b  |

> 与C语言和JAVA不一样，Python**不支持**自增(++)和自减(--)